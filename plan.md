# Terra - Alchemy Pixel Playground

## コンセプト

[sandspiel.club](https://sandspiel.club/) のようなピクセルベースの物理シミュレーション（フォーリングサンドゲーム）に、要素を組み合わせて新しい要素を作る「錬金術（アルケミー）」の概念を組み合わせたアプリケーション。

## 技術スタック

- Rust + Bery

## UI

1.  **シミュレーションエリア:**
    - ピクセルを描画するためのキャンバスをアプリケーション全体に展開。

2.  **要素選択:**
    - EMPTY以外の基本要素を選択。
    - 選択した状態でシミュレーションエリアを左クリックで配置する。

3.  **その他:**
    - キャンバスの要素をすべて消す　CLEAR
    - テスト用にランダムに要素を配置する　RANDOM

3.  **デバッグ情報表示:**
    - 総数、各要素の数を見れるようにする

## 主な機能

1.  **基本要素:**
    - アルケミーの基本となる四大元素（+空）をベースにする。
    - EMPTY以外はユーザーが置ける
        -   `EMPTY` (空)
        -   `SOIL` (土)
        -   `WATER` (水)
        -   `FIRE` (火)

2.  **物理演算と相互作用:**
    -   各要素に簡単な動きのルールを実装する。
        -   `SOIL`: 重力に従って下に落ちる。
        -   `WATER`: 下に流れ、左右に広がる。
        -   `FIRE`: 周囲に熱を伝え、しばらくすると消える。
    -   **植物のライフサイクル:**
        -   **発芽:** `SEED`が`SOIL`か`WET_SOIL`の上にあり、近くに`WATER`があると、時間経過で`SPROUT`（芽）に変化する。
        -   **成長:** `SPROUT`は上に向かってランダムに成長する。
        -   **開花と繁殖:** 成長した`PLANT`（植物）は`FLOWER`（花）を咲かせることがある。
        -   **枯死:** `PLANT`は時間経過で`WITHERED_PLANT`（枯れた植物）に変化する。`WITHERED_PLANT`はさらに時間経過で崩れて`SOIL`になるか、土に埋まっている場合は`OIL`に変化することがある。

## 錬金術

-   **錬金術（要素の相互作用）:**
    -   `WATER` + `SOIL` -> `WET_SOIL` (濡れた土)
    -   `FIRE` + `WET_SOIL` -> `SOIL` + `STEAM` (乾燥)
    -   `FIRE` + `WATER` -> `STEAM` (蒸気)
    -   `FIRE` + (`SEED` or `PLANT` or `WITHERED_PLANT`) -> `FIRE` (燃焼)
    -   `FIRE` + `SOIL` -> `SAND` (砂)

-   **化石燃料の生成 (OIL):**
    -   **生成:** `WITHERED_PLANT`が`SOIL`か`WET_SOIL`に埋まった状態で時間経過すると、確率で`OIL`に変化する。
    -   **挙動:**
        -   `OIL`は水より少し粘度の高い液体。
        -   `FIRE`に引火して`FIRE`に変化する（燃料）。
        -   水に浮く。
        -   空気に触れる地表に向かってゆっくりと上昇する。
        -   ごく稀に自然発火する。
    -   **ライフサイクル:** SEED → PLANT → WITHERED_PLANT → (埋没) → OIL → FIRE
