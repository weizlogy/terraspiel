# Terraspiel - Alchemy Pixel Playground

## コンセプト

フォーリングサンド系の物理シミュレーションに「アルケミー合成」要素を組み合わせる。
ユーザーが置ける物質は１種類だけど、その物質には様々な特性（個体液体気体、粘度密度、硬度、色などなど）があってユーザーが任意に設定したものを置ける。
物質はそれぞれ接触したときに保持している特性が混ざり合って新たな物質に変化する。みたいなのも考えた。
変換テーブル的なのはなくて、特性とそのときのシードで物質名からなにもかもを決定してしまうシステム。

## 基本コンセプト：「生成される物質そのものが世界のルール」

ユーザーは「一つのベース物質」を置く。
ベース物質の**パラメータ（特性）**を自由に設定できる：
状態: 固体／液体／気体
密度, 粘度, 温度耐性, 電導率, 光反射率, 色, 熱伝導率, 反応性…など
シミュレーション中、セル同士が接触すると、それぞれの特性がブレンドされて**新しい「物質DNA」**を作る。
そのDNAをハッシュ or シードにして、物質名・色・物理特性などを一貫して生成。

ブレンド方法は単純な線形補間でもいいし、ノイズ関数（Perlin/Simplex）を挟むのも面白い。
各特性は範囲（例: 密度=0〜1）を持ち、そこから中間値を生成。

見た目と名前の自動生成
シードを使って：
名前: ノイズ＋ルール生成（例: "Aeralite", "Mundra", "Saphone" みたいな）
色: 特性のスペクトルから導出（熱伝導率や電導率が高いほど青く光る等）
物性: 特性セットを正規化して連動（密度が高いと落下しやすい、熱伝導率高いと燃えやすい等）

## 最小動作サンプル

ウィンドウを開く（winit＋pixels）
ピクセルを描画する（背景グラデーションやノイズでOK）
egui UIを重ねる（スライダーやボタンを1つ）
UI操作が描画結果に反映される（例：スライダーで色が変わる）

## ベース物質のパラメータ（特性）

| カテゴリ              | パラメータ名        | 範囲・型  | 説明                                           |
| --------------------- | --------------------| ----------| ---------------------------------------------- |
| **基本**              | `state`             | enum      | 物質の状態。動作パターンの基本軸になる。       |
|                       |                     | Solid     | 固体。硬い物質。                               |
|                       |                     | Liquid    | 液体。流動性のある物質。                       |
|                       |                     | Gas       | 気体。圧力に影響を受けやすい物質。             |
|                       |                     | Particle  | 風や波のような微細な物質。                     |
| **物理特性**          | `density`           | 0.0〜1.0  | 密度。高いほど重く沈む。                       |
|                       | `viscosity`         | 0.0〜1.0  | 粘度。高いほど流動しなくなる。                 |
|                       | `hardness`          | 0.0〜1.0  | 硬度。衝撃や崩壊に対する耐性。                 |
|                       | `elasticity`        | 0.0〜1.0  | 弾性。反発や波動伝播の強さ。                   |
| **熱・エネルギー系**  | `temperature`       | -1.0〜1.0 | 相対温度。周囲より高いと熱伝導で変化を起こす。 |
|                       | `heat_conductivity` | 0.0〜1.0  | 熱伝導率。温度の伝わりやすさ。                 |
|                       | `heat_capacity`     | 0.0〜1.0  | 熱容量。熱変化に対する耐性。                   |
| **電磁特性**          | `conductivity`      | 0.0〜1.0  | 電導率。電流・光エネルギーの伝播度合い。       |
|                       | `magnetism`         | -1.0〜1.0 | 磁性。正でN極、負でS極的性質を表現可能。       |
| **光・見た目系**      | `color_hue`         | 0.0〜1.0  | 色相。ブレンド時に線形補間で混ざる。           |
|                       | `color_saturation`  | 0.0〜1.0  | 彩度。                                         |
|                       | `color_luminance`   | 0.0〜1.0  | 明度。                                         |
|                       | `luminescence`      | 0.0〜1.0  | 自発光度。発熱や電気で光を放つ度合い。         |
